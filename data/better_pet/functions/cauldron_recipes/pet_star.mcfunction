scoreboard players set @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}}] recipe_pet_star 0
execute at @e[type=item,nbt={Item:{id:"minecraft:totem_of_undying"}}] if block ~ ~ ~ water_cauldron[level=3] run scoreboard players add @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}}] recipe_pet_star 1
execute at @e[type=item,nbt={Item:{id:"minecraft:ender_pearl",Count:16b}}] if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:wheat",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:bone",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:cod",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:wheat_seeds",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},scores={recipe_pet_star=2}] at @s if block ~ ~ ~ water_cauldron[level=3] run tag @s add recipe_pet_star
execute at @e[type=item,nbt={Item:{id:"minecraft:ender_pearl",Count:16b}}] if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:wheat",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:bone",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:salmon",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:wheat_seeds",Count:1b}}] at @s if block ~ ~ ~ water_cauldron[level=3] run execute as @e[distance=0..1,type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},scores={recipe_pet_star=2}] at @s if block ~ ~ ~ water_cauldron[level=3] run tag @s add recipe_pet_star
execute at @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star,tag=!stop] run execute as @e[distance=0..1,type=item,tag=!recipe_pet_star] at @s if block ~ ~ ~ water_cauldron[level=3] run kill @s
execute at @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star,tag=!stop] run setblock ~ ~ ~ minecraft:cauldron
execute at @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star,tag=!stop] run playsound block.lava.extinguish voice @a ~ ~ ~
execute at @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star,tag=!stop] run particle cloud ~ ~ ~ 0.5 0.5 0.5 0.1 50
execute as @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star,tag=!stop] run data modify entity @s Item.tag set value {marker:"pet_star",display:{Lore:['{"text":"用于将宠物进化","color":"green","italic":false}','{"text":"丢弃在宠物身边下蹲5秒即可","color":"green","italic":false}'],Name:'{"text":"宠物之星","color":"dark_purple","italic":false}'}}
tag @e[type=item,nbt={Item:{id:"minecraft:nether_star",Count:1b}},tag=recipe_pet_star] add stop
